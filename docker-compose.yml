services:
  glance:
    build:
      context: .
      target: dev
    ports:
      - "3333:3333"
    volumes:
      # Persist database
      - glance-data:/app/data
      # For development: mount source code (optional, comment out for production)
      # - .:/app
      # - /app/node_modules
    environment:
      # Auto-generated if not set
      - AUTH_TOKEN=${AUTH_TOKEN:-}
    restart: unless-stopped

volumes:
  glance-data:
